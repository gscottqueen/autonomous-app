<html>

<head>
	<title>Autonomous App</title>
	<!-- latest jquery -->
	<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

	<!-- thether for tool tips -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether-tooltip/1.2.0/js/tooltip.js" integrity="sha256-4+mmBPg5I8ir+kDLa52oooxDmsNBFUMU2FD50OHjz+I=" crossorigin="anonymous"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<!-- Latest compiled and minified d3 script -->
	<script src="https://d3js.org/d3.v3.min.js"></script>

	<!-- Initiate Firebase -->
	<script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>

	<!-- Initialize Firebase -->
	<script>
		var config = {
			apiKey: "AIzaSyCnGjGAvkcZ7LEMWTqXgLxSbGgSP8V4BoM",
			authDomain: "autonomous-app.firebaseapp.com",
			databaseURL: "https://autonomous-app.firebaseio.com",
			storageBucket: "autonomous-app.appspot.com",
			messagingSenderId: "610368115071"
		};
		firebase.initializeApp(config);
	</script>

	<!-- insert external js -->
	<script src="external.js"></script>

	<!-- Latest LoDash -->
	<script src="https://cdn.jsdelivr.net/lodash/4.17.2/lodash.min.js"></script>

	<!-- stylesheets -->
	<link rel="stylesheet" href="externall.css">

</head>

<body id="grad">
	<nav class="sidenav">
		<a class="icon title" href="#" title="API Source Data on google.firebse.io">BUILT WITH</a>
		<a class="icon" href="#" title="API Source Data on google.firebse.io"><img src="./icons/firebase.png" alt="Data Source"></a>
		<a class="icon" href="#"><span title="Data Driven Documents Framework"><img src="./icons/d3.png" alt="About"></span></a>
		<a class="icon" href="#"><span title="Built with Jquery"><img src="./icons/jquery.png" alt="Share"></span></a>
		<a class="icon" href="#"><span title="Fork on Github"><img src="./icons/github.png" alt="Share"></span></a>
	</nav>
	<div class="container-fluid">
		<div class="row">
			<div class="leftgutter col-md-12">
				<div class="row">
					Title of the App
				</div>
				<div class="info1 col-md-3">
					<h3 class="reporter">

						<!-- use incidents:reporter to display reporter in h3 -->

							Reporter: <span id="reporter"></span>
						</h3>

					<!-- use incidents: monthId and incidents: day to display month and day with a , inbetween -->

					<p class="details">
						Date: <span class="month"></span><span class="day"></span><span class="year"></span>
					</p>

					<!-- use incidents: milesDriven to display the number of miles driven that month -->
					<p class="details">
						Total Miles Autnomously Driven: <span class="miles"></span>
					</p>

					<h4> Incident Report:</h4>
					<p id="description" class="description">This chart is a scatterplot using <a href="https://d3js.org/">data driven documents (d3)</a> with an open source api located at <a href="https://autonomous-app.firebaseio.com/">
						autonomous-app.firebaseio.com</a> and represents traffic incidents reported by autonomous vehicle developers and owners.  To see details of the reported incidents roll over each point on the chart.
					</p>
				</div>
				<div class="data col-md-9">
				</div>
				<div id="dataSection" class="col-md-9"></div>

			</div>
		</div>
	</div>
	</div>
	<script>

	// tool tip roll over in menu
	  $(document).ready(function(){
	      $('[data-toggle="tooltip"]').tooltip();
	  });

		//create svg
		var dataSection = d3.select("#dataSection")

		// Create the SVG Viewport selection
		var svgContainer = dataSection.append("svg")
			.attr("width", 900)
			.attr("height", 600)

		//  Create the Scale we will use for the Axis
		var xAxisScale = d3.scale.linear()
			.domain([0, 12])
			.range([0, 775]);
		var yAxisScale = d3.scale.linear()
			.domain([0, 31])
			.range([500, 0]);

		// Create the Axis
		var xAxis = d3.svg.axis()
			.scale(xAxisScale)
			.orient("bottom")
			.ticks(12)
		typeof(xAxis)
		var yAxis = d3.svg.axis()
			.scale(yAxisScale)
			.orient("left")
			.ticks(3);
		typeof(yAxis)

		//Create a group Element for the Axis elements and call the xAxis styles and functions
		xAxisGroup = svgContainer.append("g")
			.attr("class", "xaxis")
			.attr("transform", "translate(40,540)")
			.call(xAxis);
		yAxisGroup = svgContainer.append("g")
			.attr("class", "yaxis")
			.attr("transform", "translate(40,40)")
			.call(yAxis);

		// Define the div for the tooltip
		var div = d3.select("#dataSection").append("div")
    	.attr("class", "tooltip")
    	.style("opacity", 0);

		//  Plot the data and draw the Cirlces
		var renderChart = function(dataset) {
			svgContainer.selectAll("circle")
				.data(dataset)
				.enter()
				.append("circle")
				.attr("cx", function(d) {
					return xAxisScale(d.monthId);
				})
				.attr("cy", function(d) {
					return yAxisScale(d.day);
				})
				.attr("r", 10)
				.attr("class", "points")
				.attr("transform", "translate(15,40)")
				.on("mouseover", function(d) {
					div	.html()
						$("#reporter").html(d.reporter)
						$("year").html(d.year)
						$(".month").html(d.monthId)
						$(".day").append("tet").html(d.day)
						$(".miles").html(d.milesDriven)
						$(".description").html(d.description)
					})
		};

	</script>

	<!-- all clean -->

	<!-- NOTE: add crash data form modal -->
	<!-- Submit form -->
	<!-- <form class="form-horizontal">
		<fieldset> -->

	<!-- Text input-->
	<!-- <div class="form-group">
				<label class="col-md-4 control-label" for="email">Email</label>
				<div class="col-md-5">
					<input id="email" name="email" type="text" placeholder="user@email.com" class="form-control input-md">

				</div>
			</div> -->

	<!-- Password input-->
	<!-- <div class="form-group">
				<label class="col-md-4 control-label" for="password">Password</label>
				<div class="col-md-5">
					<input id="password" name="password" type="password" placeholder="" class="form-control input-md">

				</div>
			</div> -->

	<!-- Button -->
	<!-- <div class="form-group">
				<label class="col-md-4 control-label" for="singlebutton"></label>
				<div class="col-md-4">
					<button type="submit" id="submit" class="loginButton" style="color:white;background:slateGrey;border:none;width:150px;height:40px;">Login</button>
				</div>
			</div>

		</fieldset>
	</form> -->
</body>

</html>
